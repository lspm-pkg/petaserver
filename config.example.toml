[network]
# Description: Network configuration for the PetaByte server.
# Matters: Defines where the server listens for connections from the client.
# Disclaimers: Use 0.0.0.0 for external access, or 127.0.0.1 for local-only.
# Default: "0.0.0.0", 7004
host = "0.0.0.0"
port = 7004

[cache]
# Description: The directory where raw, decrypted data chunks are temporarily stored before being uploaded.
# Matters: This is the high-speed I/O cache. Ensure this path is on a fast drive (like an SSD/NVMe) for maximum performance.
# Disclaimers: The server process needs full read/write permissions to this directory.
# Default: "petafuse_cache"
dir = "petafuse_cache"

# Description: The maximum number of chunks to hold in the super-fast in-memory RAM cache.
# Matters: A larger cache means more frequent reads can be served directly from RAM, boosting performance for recently or frequently accessed data.
# Disclaimers: Each chunk consumes RAM equal to your `chunk_size`. (e.g., 128 * 8MiB = 1GiB). Do not set this higher than your available memory.
# Default: 128
in_memory_chunk_limit = 128

# Description: The compression level for Zstandard when preparing chunks for upload.
# Matters: Balances upload speed (CPU usage) against storage efficiency in Discord. Higher levels are smaller but require more CPU.
# Disclaimers: Level 3 is a fantastic balance of speed and compression ratio.
# Default: 3
compression_level = 3

[uploads]
# Description: The size of each data chunk. This is the fundamental block size of your disk.
# Matters: This value is critical to how the disk is split into pieces.
# Disclaimers:
# DO NOT CHANGE THIS after you have started uploading data. It will corrupt your entire filesystem.
# Keep at default for a 0-boost Discord server to avoid hitting the upload size limit.
# Default: 8388608 (exactly 8 MiB)
chunk_size = 8388608

[uploads.discord]
# Description: The Discord channel ID where all the data chunks will be permanently archived.
# Matters: This is the backing storage for your entire virtual disk. It is critical.
# Disclaimers: MUST be a Text Channel ID. The bot needs full permissions.
channel_id = 1440814868922896434

[auth]
# Description: Allows or disables new user registration via the API.
# Matters: If `one_account_mode` is true, this switch will be automatically turned off after the first registration.
# Default: true
registration_enabled = true

# Description: Enables the "VIP Airlock". After the first successful registration, all future registrations are disabled.
# Matters: The ultimate security for a single-user, private server.
# Disclaimers: If you enable this and need to create another account, you must restart the server with this set to false.
# Default: true
one_account_mode = true
