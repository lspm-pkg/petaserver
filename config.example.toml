[network]
# Description: Network configuration for the PetaByte server.
# Matters: Defines where the server listens for connections from the client.
# Disclaimers: Use 0.0.0.0 for external access, or 127.0.0.1 for local-only.
# Default: "0.0.0.0", 7004
host = "0.0.0.0"
port = 7004

[cache]
# Description: The maximum number of DECRYPTED chunks to hold in the fast in-memory RAM cache.
# Matters: Directly impacts read performance and memory usage. A larger limit means more cache hits.
# To calculate RAM usage: in_memory_chunk_limit * chunk_size (MB) = Total RAM (MB)
# Example: 128 * 8 MB = 1024 MB (1 GB).
# Default: 128
in_memory_chunk_limit = 128

# Description: The minimum number of chunks the adaptive read-ahead will fetch when idle.
# Matters: The 'cooldown' state for basic responsiveness.
# Default: 6
chunks_min = 6

# Description: The starting number of chunks for the adaptive read-ahead when the server starts.
# Matters: The baseline read-ahead performance before adaptive logic takes over.
# Default: 10
accel_start = 10

# Description: The absolute maximum number of chunks the adaptive read-ahead will ever fetch.
# Matters: Defines the peak 'aggressive' state of the cache. Higher values boost sequential reads.
# Disclaimers: Should not exceed `in_memory_chunk_limit`.
# Default: 48
accel_end = 48

# Description: The Read IOPs (Operations per Second) threshold to trigger aggressive caching.
# Matters: A lower value makes the cache accelerate faster under load.
# Default: 11
accel_agr = 11

# Description: The maximum number of concurrent reads from the slowest sources (on-disk cache and Discord).
# Matters: Prevents the system from overwhelming the CPU (decryption) and network (API rate limits).
# Disclaimers: This is a critical performance tuning knob. 4 is a sane default for a modern multi-core CPU with minimal ratelimiting.
# Default: 4
max_concurrent_reads = 4

[uploads]
# Description: The size of each data chunk before compression and encryption.
# Matters: This value is fundamental to how the disk is split into pieces.
# Disclaimers:
# DO NOT CHANGE THIS after you have started uploading data. It will corrupt the file mapping.
# Keep at default for a 0-boost Discord server to avoid hitting the upload size limit.
# Default: 8388608 (exactly 8 MiB)
chunk_size = 8388608


[uploads.discord]
# Description: The Discord channel ID where all the data chunks will be stored.
# Matters: This is the backing storage for your entire virtual disk. It is critical.
# Disclaimers: MUST be a Text Channel ID. The bot needs full permissions.
channel_id = 1440814868922896434

[auth]
# Description: Allows or disables new user registration via the API.
# Matters: Set to `false` after creating your user account for security.
# Disclaimers: If false, the `/api/register` endpoint is disabled.
# Default: true
registration_enabled = true
